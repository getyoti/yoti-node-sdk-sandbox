# Yoti NodeJS Sandbox SDK

Welcome to the Yoti NodeJS Sandbox. This repo contains the tools you need to test your NodeJS back-end integration.

## Requirements

### Node version
Please refer to [Travis](https://travis-ci.com/getyoti/yoti-node-sdk-sandbox) to see all compatible Node versions.

## Installing the Sandbox

To import the Yoti SDK inside your project, you can use your favourite dependency management system.
If you are using NPM, you can use the following command to set the Yoti Sandbox SDK as a dependency:

```shell
npm install @getyoti/sdk-sandbox
```

## Configuration

* `SANDBOX_CLIENT_SDK_ID` is the SDK identifier generated by Yoti Hub in the Key tab when you create your app.

* `/path/to/your-pem-file.pem` is the path to the application pem file. It can be downloaded only once from the Keys tab in your Yoti Hub.

* Point the Yoti client at the sandbox by setting environment variable `YOTI_CONNECT_API` to https://api.yoti.com/sandbox/v1

Please do not open the pem file as this might corrupt the key and you will need to create a new application.

```javascript
const { SandboxProfileClientBuilder } = require('@getyoti/sdk-sandbox');
const { Client } = require('yoti');
const fs = require('fs');

const SANDBOX_CLIENT_SDK_ID = 'SANDBOX_CLIENT_SDK_ID';
const PEM = fs.readFileSync('/path/to/your-pem-file.pem', 'utf8');

const sandboxProfileClient = new SandboxProfileClientBuilder()
  .withClientSdkId(SANDBOX_CLIENT_SDK_ID)
  .withPemString(PEM)
  .build();

const yotiClient = new Client(SANDBOX_CLIENT_SDK_ID, PEM);
```

## Examples

- See [examples/profile](examples/profile) for a general example of how to use the Profile Sandbox in your tests.
